{% load static %}
<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Подробная информация</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url('{% static 'images/Бородинская_битва.jpg' %}') no-repeat center center fixed;
            background-size: cover;
            color: #495057;
            line-height: 1.6;
        }
        .header {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            background-color: rgba(73, 80, 87, 0.9);
            box-shadow: 0 5px 7px rgba(0, 0, 0, 0.2);
            color: #E8EDE1;
            padding: 15px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            z-index: 1000;
        }
        .header .close {
            font-size: 20px;
            cursor: pointer;
            background-color: transparent;
            border: none;
            color: #E8EDE1;
            padding: 5px;
            transition: color 0.3s ease;
            display: flex;
            align-items: center;
        }
        .header .close:hover {
            color: #997E59;
        }
        .header .close span {
            margin-left: 10px;
            font-size: 16px;
            color: inherit;
            transition: color 0.3s ease;
        }
        .header .close:hover span {
            color: #997E59;
        }
        .content {
            max-width: 90%;
            margin: 250px auto 20px;
            padding: 20px;
            background-color: rgba(232, 237, 225, 0.9);
            border: 4px solid #997E59;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            position: relative;
        }
        .title {
            text-align: center;
            margin-bottom: 20px;
            position: absolute;
            top: 15%;
            left: 50%;
            transform: translateX(-50%);
            background-color: rgba(0, 0, 0, 0.3);
            color: #E8EDE1;
            padding: 10px 100px;
            border-radius: 8px;
            z-index: 1;
        }
        .title h1 {
            font-size: 36px;
            margin: 0;
        }
        h3 {
            font-size: 22px;
            margin-bottom: 10px;
            color: #495057;
        }
        p {
            font-size: 18px;
            margin-bottom: 20px;
            text-align: justify;
        }
        .back-button {
            display: inline-block;
            margin-top: 20px;
            padding: 10px 20px;
            color: #E8EDE1;
            background-color: #997E59;
            text-decoration: none;
            border-radius: 4px;
            font-size: 16px;
            transition: background-color 0.3s ease;
        }
        .back-button:hover {
            background-color: #76543E;
        }
        .test-button {
            display: inline-block;
            margin-top: 20px;
            margin-left: auto;
            padding: 10px 20px;
            color: #E8EDE1;
            background-color: #997E59;
            text-decoration: none;
            border: none;
            border-radius: 4px;
            font-size: 16px;
            transition: background-color 0.3s ease;
            cursor: pointer;
            text-align: center;
        }
        .test-button:hover {
            background-color: #76543E;
        }
        .test-container {
            display: none;
            margin-top: 20px;
            padding: 20px;
            background-color: rgba(232, 237, 225, 0.9);
            border: 4px solid #997E59;
            border-radius: 10px;
        }
        .question {
            margin-bottom: 20px;
            font-size: 18px;
        }
        .answers {
            margin-bottom: 20px;
        }
        .answers input {
            margin-right: 10px;
        }
        .action-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
        }
        .gallery {
            position: relative;
            max-width: 100%;
            margin: 20px auto;
            overflow: hidden;
            text-align: center;
        }
        .gallery-images {
            display: flex;
            transition: transform 0.5s ease-in-out;
        }
        .gallery-item {
            min-width: 100%;
            box-sizing: border-box;
        }
        .gallery-image {
            height: 400px;
            max-width: 100%;
            object-fit: contain;
            border-radius: 8px;
        }
        .gallery-caption {
            text-align: center;
            font-size: 16px;
            color: #495057;
            margin-top: 10px;
        }
        .gallery-controls {
            position: absolute;
            top: 50%;
            width: 100%;
            display: flex;
            justify-content: space-between;
            transform: translateY(-50%);
            z-index: 10;
        }
        .gallery-arrow {
            background-color: rgba(0, 0, 0, 0.5);
            color: #fff;
            border: none;
            padding: 10px;
            border-radius: 50%;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }
        .gallery-arrow:hover {
            background-color: rgba(0, 0, 0, 0.7);
        }
        @media (max-width: 768px) {
            .content {
                margin: 80px 10px 20px;
                padding: 15px;
            }
            h3 {
                font-size: 20px;
            }
            p {
                font-size: 16px;
            }
            .gallery-image {
                height: 200px;
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <button class="close" onclick="window.history.back();">
            &times;<span>Подробнее</span>
        </button>
    </div>
    <div class="title">
        <h1>Бородинская битва</h1>
    </div>
    <div class="content">
        <h3>Причины:</h3>
        <p>Бородинское сражение стало кульминацией первой фазы Отечественной войны 1812 года. Причиной конфликта стала экспансионистская политика Наполеона Бонапарта и его стремление подчинить Россию Континентальной блокаде — системе экономических санкций против Великобритании. Россия, несмотря на формальный союз с Францией после Тильзитского мира 1807 года, постепенно отходила от участия в блокаде, что вызвало недовольство Наполеона.</p>
        <p>24 июня 1812 года армия Наполеона перешла Неман и вторглась в пределы Российской империи. Русские армии под командованием Михаила Барклая де Толли и Петра Багратиона избегали генерального сражения, ведя стратегическое отступление, чтобы истощить армию противника. Однако общественное и военное давление требовало дать бой. Назначение опытного полководца Михаила Илларионовича Кутузова главнокомандующим дало возможность изменить стратегию: при Бородино русские решили наконец остановить наступление французов и сразиться за столицу.</p>
        <h3>Ход событий:</h3>
        <p>К началу сентября 1812 года русская армия сосредоточилась у села Бородино, примерно в 120 км к западу от Москвы. Кутузов выбрал эту позицию как удобную для обороны: она была прикрыта с севера рекой Колочьей, а с юга — лесами и оврагами. Русские начали активное строительство укреплений: редутов, флешей и батарей. Особое значение приобрели Багратионовы флеши (укреплённая линия на левом фланге) и Шевардинский редут, который прикрывал подступы к центру позиции. Численность русской армии составляла около 120–130 тысяч человек при 640 орудиях. Французская армия Наполеона насчитывала до 135 тысяч солдат и 587 пушек. Наполеон лично прибыл на поле боя и планировал нанести главный удар на левом фланге русской армии, стремясь прорвать оборону, окружить центр и вынудить Кутузова к отступлению.</p>
        <p>Сражение началось около 5 часов утра с артиллерийской подготовки и атаки французов на Шевардинский редут. После упорного боя редут пал, и французам удалось продвинуться вперёд. Затем началась массированная атака на левый фланг русской армии — Багратионовы флеши. Эти укрепления стали ареной ожесточённых боёв: французы бросали туда корпус за корпусом, в том числе силы маршалов Нея, Даву и Мюрата. Русские войска героически оборонялись: особенно отличились солдаты под командованием генерала Петра Ивановича Багратиона, который лично руководил защитой флешей. Он был смертельно ранен в бою, что стало тяжёлой утратой для армии. Флеши переходили из рук в руки до 7 раз. Несмотря на потери, русские сохраняли боеспособность, контратаковали и не давали французам развить успех.</p>
        <p>Около 10 часов утра началась атака на центральную позицию — Батарею Раевского (или «Большой редут»), где стояли части под командованием генерала Николая Раевского. Французские корпуса под командованием Маршала Нея, принца Эжена Богарне и гвардии Наполеона вели наступление, сопровождаемое массированным артиллерийским огнём. Несмотря на яростную оборону и контратаки русских, французы смогли временно захватить редут, но были выбиты из него. К полудню бой достиг максимального накала: пехота и кавалерия с обеих сторон шли врукопашную, десятки тысяч солдат сражались на небольшом участке местности. Примерно в 14:00 французам удалось вновь захватить батарею Раевского, но они уже не имели сил для дальнейшего наступления.</p>
        <p>Во второй половине дня сражение приняло позиционный характер. Наполеон колебался: он имел в резерве Гвардию — элитные части — но не решился бросить её в бой. Кутузов, несмотря на тяжёлые потери, не стал отступать и удержал позиции до конца дня. К вечеру обе армии были истощены. Поле боя осталось за французами, но русская армия не была разбита. В ночь на 27 августа Кутузов отдал приказ об организованном отступлении к Можайску, чтобы сохранить армию и не допустить окружения.</p> 
        <h3>Последствия:</h3>
        <p>Бородинское сражение не принесло явной победы ни одной из сторон, но стало стратегическим успехом русской армии. Французы потеряли около 28–35 тысяч человек, русские — до 40–44 тысяч, включая убитых, раненых и пропавших без вести. Потери стали самыми тяжёлыми для обеих армий за всю войну. Наполеон так и не добился разгрома русской армии, которая, хотя и отступила, осталась организованной и боеспособной. Через неделю после боя французская армия вступила в пустую Москву, но это оказалось пирровой победой: город был оставлен и частично сожжён, запасы вывезены, и армия Наполеона оказалась без тыла. Русская армия сохранила силу и вскоре начала контрнаступление, которое завершилось изгнанием французов из России.</p>
        <p>Бородино стало символом героизма, стойкости и мужества русской армии. Сражение оказало огромное моральное и патриотическое воздействие, вдохновив народное сопротивление. Оно навсегда вошло в историю как одна из величайших битв XIX века и стало предметом произведений Толстого, Верещагина и других великих русских художников и писателей.</p>
        <div class="gallery">
            <div class="gallery-images" id="gallery-images">
                <div class="gallery-item">
                    <img src="{% static 'images/Портрет_Раевского.jpg' %}" alt="Image 4" class="gallery-image">
                    <div class="gallery-caption">Портрет генерала Н. Н. Раевского</div>
                </div>
                <div class="gallery-item">
                    <img src="{% static 'images/Карта_Бородино.webp' %}" alt="Image 1" class="gallery-image">
                    <div class="gallery-caption">Карта Бородинского сражения</div>
                </div>
                <div class="gallery-item">
                    <img src="{% static 'images/Портрет_Кутузова.jpg' %}" alt="Image 2" class="gallery-image">
                    <div class="gallery-caption">Портрет генерала-фельдмаршала М. И. Кутузова</div>
                </div>
                <div class="gallery-item">
                    <img src="{% static 'images/Потрет_Багратиона.jpg' %}" alt="Image 3" class="gallery-image">
                    <div class="gallery-caption">Портрет генерала П. И. Багратиона</div>
                </div>
                <div class="gallery-item">
                    <img src="{% static 'images/Портрет_Барклая.jpg' %}" alt="Image 4" class="gallery-image">
                    <div class="gallery-caption">Портрет генерала М. Б. Барклая де Толли</div>
                </div>
                <div class="gallery-item">
                    <img src="{% static 'images/Портрет_Раевского.jpg' %}" alt="Image 4" class="gallery-image">
                    <div class="gallery-caption">Портрет генерала Н. Н. Раевского</div>
                </div>
                <div class="gallery-item">
                    <img src="{% static 'images/Карта_Бородино.jfif' %}" alt="Image 1" class="gallery-image">
                    <div class="gallery-caption">Карта Бородинского сражения</div>
                </div>
            </div>
            <div class="gallery-controls">
                <button class="gallery-arrow" onclick="prevImage()">&#10094;</button>
                <button class="gallery-arrow" onclick="nextImage()">&#10095;</button>
            </div>
        </div>
        <script>
            let currentIndex = 1; // Начало галереи
            const images = document.getElementById('gallery-images');
            const totalImages = images.children.length;
    
            images.style.transform = `translateX(-${currentIndex * 100}%)`;
    
            function updateGallery() {
                images.style.transition = 'transform 0.5s ease-in-out';
                images.style.transform = `translateX(-${currentIndex * 100}%)`;
    
                // Перелистывание галереи
                setTimeout(() => {
                    if (currentIndex === 0) {
                        currentIndex = totalImages - 2;
                        images.style.transition = 'none';
                        images.style.transform = `translateX(-${currentIndex * 100}%)`;
                    } else if (currentIndex === totalImages - 1) {
                        currentIndex = 1;
                        images.style.transition = 'none';
                        images.style.transform = `translateX(-${currentIndex * 100}%)`;
                    }
                }, 500);
            }
    
            function nextImage() {
                currentIndex++;
                updateGallery();
            }
    
            function prevImage() {
                currentIndex--;
                updateGallery();
            }
        </script>
        <div style="display: flex; justify-content: space-between;">
            <a href="#" class="back-button" onclick="window.history.back();">↞ Вернуться к карте</a>
            <button class="test-button" onclick="startTest()">Пройти тест</button>
        </div>
        <div class="test-container" id="test-container">
            <div id="question-container">
            </div>
            <div class="action-buttons">
                <button class="test-button" id="next-button" onclick="nextQuestion()">Следующий вопрос</button>
                <button class="test-button" id="finish-button" onclick="finishTest()" style="display: none;">Завершить тест</button>
            </div>
        </div> 
    </div>
    <div id="result" style="display: none;"></div>
    <script>
        let currentQuestionIndex = 0;
        let correctAnswers = 0;

        // Вопросы
        const questions = [
            {
                text: "Кто возглавлял Северное общество декабристов?",
                answers: ["Александр I", "Никита Муравьёв", "Сергей Муравьёв-Апостол", "Николай I", "Павел Пестель"],
                correct: 1
            },
            {
                text: "Когда произошло восстание декабристов?",
                answers: ["14.12.1812г.", "19.11.1825г.", "18.02.1955г.", "14.12.1825г.", "26.08.1812г."],
                correct: 3
            },
            {
                text: "Выберите вариант, где перечислены имена только казнённых декабристов:",
                answers: ["С. Муравьёв-Апостол, С. Трубецкой", "П. Пестель, Н. Муравьёв", "С. Муравьёв-Апостол, К. Рылеев", "К. Рылеев, И. Пущин", "П. Каховский, А. Бенкендорф"],
                correct: 2
            }
        ];
  
        function startTest() {
            document.getElementById("test-container").style.display = "block";
            showQuestion();
        }
  
        function showQuestion() {
            const questionContainer = document.getElementById("question-container");
            const question = questions[currentQuestionIndex];
    
            questionContainer.innerHTML = `
                <div class="question">${question.text}</div>
                <div class="answers">
                    ${question.answers.map((answer, index) => `
                        <label>
                            <input type="radio" name="answer" value="${index}">
                            ${answer}
                        </label>
                    `).join('')}
                </div>
            `;
    
            document.getElementById("next-button").style.display = currentQuestionIndex < questions.length - 1 ? "inline-block" : "none";
            document.getElementById("finish-button").style.display = currentQuestionIndex === questions.length - 1 ? "inline-block" : "none";
        }
    
        function nextQuestion() {
            const selected = document.querySelector('input[name="answer"]:checked');
            if (!selected) {
                alert("Выберите ответ перед переходом к следующему вопросу!");
                return;
            }
            if (parseInt(selected.value) === questions[currentQuestionIndex].correct) {
                correctAnswers++;
            }
            currentQuestionIndex++;
            showQuestion();
        }
    
        function finishTest() {
            const selected = document.querySelector('input[name="answer"]:checked');
            if (!selected) {
                alert("Выберите ответ перед завершением теста!");
                return;
            }
            if (parseInt(selected.value) === questions[currentQuestionIndex].correct) {
                correctAnswers++;
            }
            
            const questionContainer = document.getElementById("question-container");
            questionContainer.innerHTML = `
                <div style="display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100%; padding: 10px;">
                    <h3 style="text-align: center; font-size: 28px; margin-bottom: 5px;">Ваш результат:</h3>
                    <p style="font-size: 32px; font-weight: bold; color: #415c6b; margin: 0;">${correctAnswers} из ${questions.length}</p>
                </div>
            `;
          
            document.getElementById("next-button").style.display = "none";
            document.getElementById("finish-button").style.display = "none";
        }        
    </script>
</body>
</html>
